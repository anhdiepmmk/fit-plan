import"./global-CddY3fVm.js";const m=document.getElementById("bmi-form"),c=document.getElementById("bmi-needle-group"),d=document.getElementById("bmi-value"),s=document.getElementById("bmi-category");document.getElementById("bmi-details");const u=document.getElementById("btn-clear"),o=[{max:18.5,label:"Gầy",className:"underweight"},{max:25,label:"Bình thường",className:"normal"},{max:30,label:"Thừa cân",className:"overweight"},{max:35,label:"Béo phì độ I",className:"obesity"},{max:40,label:"Béo phì độ II",className:"obesity"},{max:1/0,label:"Béo phì độ III",className:"obesity"}];function h(t){return(Math.max(15,Math.min(40,t))-15)/25*180-180}function I(t){for(const n of o)if(t<n.max)return n;return o[o.length-1]}function y(t,n){const a=n/100;return t/(a*a)}function B(t,n,a){const e=n/100,l=18.5*e*e,i=25*e*e,r=a/25,g=t/(e*e*e);return{healthyWeight:`${l.toFixed(1)} – ${i.toFixed(1)} kg`,bmiPrime:r.toFixed(2),ponderalIndex:`${g.toFixed(1)} kg/m³`}}function x(t){const n=h(t);c.style.transform=`translate(150px, 150px) rotate(${n}deg)`}function E(){c.style.transform="translate(150px, 150px) rotate(-180deg)"}function b(){const t=parseInt(document.getElementById("age").value),n=parseFloat(document.getElementById("height").value),a=parseFloat(document.getElementById("weight").value);let e=!0;return isNaN(t)||t<2||t>120?(document.getElementById("age").classList.add("is-invalid"),e=!1):document.getElementById("age").classList.remove("is-invalid"),isNaN(n)||n<=0?(document.getElementById("height").classList.add("is-invalid"),e=!1):document.getElementById("height").classList.remove("is-invalid"),isNaN(a)||a<=0?(document.getElementById("weight").classList.add("is-invalid"),e=!1):document.getElementById("weight").classList.remove("is-invalid"),e}m.addEventListener("submit",t=>{if(t.preventDefault(),!b())return;const n=parseFloat(document.getElementById("height").value),a=parseFloat(document.getElementById("weight").value),e=y(a,n),l=I(e),i=B(a,n,e);d.textContent=e.toFixed(1),s.textContent=l.label,s.className=`text-${l.className}`,document.getElementById("healthy-weight").textContent=i.healthyWeight,document.getElementById("bmi-prime").textContent=i.bmiPrime,document.getElementById("ponderal-index").textContent=i.ponderalIndex,x(e)});u.addEventListener("click",()=>{m.reset(),d.textContent="--",s.textContent="--",s.className="",document.querySelectorAll(".is-invalid").forEach(t=>t.classList.remove("is-invalid"))});E();m.dispatchEvent(new Event("submit"));
