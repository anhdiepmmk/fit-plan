import"./global-CddY3fVm.js";const g=document.getElementById("bmi-form"),r=document.getElementById("bmi-needle-group"),I=document.getElementById("bmi-value"),c=document.getElementById("bmi-category");document.getElementById("bmi-details");const d=[{max:18.5,label:"Gầy",className:"underweight"},{max:25,label:"Bình thường",className:"normal"},{max:30,label:"Thừa cân",className:"overweight"},{max:35,label:"Béo phì độ I",className:"obesity"},{max:40,label:"Béo phì độ II",className:"obesity"},{max:1/0,label:"Béo phì độ III",className:"obesity"}];function x(t){return(Math.max(15,Math.min(40,t))-15)/25*180-180}function y(t){for(const n of d)if(t<n.max)return n;return d[d.length-1]}function B(t,n){const a=n/100;return t/(a*a)}function E(t,n,a){const e=n/100,i=18.5*e*e,l=25*e*e,o=a/25,h=t/(e*e*e);let m="",s="";return a<18.5?(m=`Tăng ${(i-t).toFixed(1)} kg để đạt BMI 18.5 kg/m²`,s="text-underweight"):a>25?(m=`Giảm ${(t-l).toFixed(1)} kg để đạt BMI 25 kg/m²`,a<=30?s="text-overweight":s="text-obesity"):(m="Bạn đang có cân nặng lành mạnh",s="text-normal"),{healthyWeight:`${i.toFixed(1)} – ${l.toFixed(1)} kg`,bmiPrime:o.toFixed(2),ponderalIndex:`${h.toFixed(1)} kg/m³`,weightGoal:m,weightGoalClass:s}}function f(t){const n=x(t);r.style.transform=`translate(150px, 150px) rotate(${n}deg)`}function b(){r.style.transform="translate(150px, 150px) rotate(-180deg)"}function v(){const t=parseInt(document.getElementById("age").value),n=parseFloat(document.getElementById("height").value),a=parseFloat(document.getElementById("weight").value);let e=!0;return isNaN(t)||t<2||t>120?(document.getElementById("age").classList.add("is-invalid"),e=!1):document.getElementById("age").classList.remove("is-invalid"),isNaN(n)||n<=0?(document.getElementById("height").classList.add("is-invalid"),e=!1):document.getElementById("height").classList.remove("is-invalid"),isNaN(a)||a<=0?(document.getElementById("weight").classList.add("is-invalid"),e=!1):document.getElementById("weight").classList.remove("is-invalid"),e}g.addEventListener("submit",t=>{if(t.preventDefault(),!v())return;const n=parseFloat(document.getElementById("height").value),a=parseFloat(document.getElementById("weight").value),e=B(a,n),i=y(e),l=E(a,n,e);I.textContent=e.toFixed(1),c.textContent=i.label,c.className=`text-${i.className}`,document.getElementById("healthy-weight").textContent=l.healthyWeight,document.getElementById("bmi-prime").textContent=l.bmiPrime,document.getElementById("ponderal-index").textContent=l.ponderalIndex;const o=document.getElementById("weight-goal");o.textContent=l.weightGoal,o.classList.remove("text-underweight","text-normal","text-overweight","text-obesity"),l.weightGoalClass&&o.classList.add(l.weightGoalClass),f(e)});b();g.dispatchEvent(new Event("submit"));
