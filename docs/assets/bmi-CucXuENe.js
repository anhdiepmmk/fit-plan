import"./global-CddY3fVm.js";const m=document.getElementById("bmi-form"),c=document.getElementById("bmi-needle-group"),d=document.getElementById("bmi-value"),s=document.getElementById("bmi-category"),r=document.getElementById("bmi-details"),I=document.getElementById("btn-clear"),o=[{max:18.5,label:"Gầy",className:"underweight"},{max:25,label:"Bình thường",className:"normal"},{max:30,label:"Thừa cân",className:"overweight"},{max:35,label:"Béo phì độ I",className:"obesity"},{max:40,label:"Béo phì độ II",className:"obesity"},{max:1/0,label:"Béo phì độ III",className:"obesity"}];function y(t){return(Math.max(15,Math.min(40,t))-15)/25*180-180}function B(t){for(const n of o)if(t<n.max)return n;return o[o.length-1]}function x(t,n){const a=n/100;return t/(a*a)}function b(t,n,a){const e=n/100,l=18.5*e*e,i=25*e*e,u=a/25,h=t/(e*e*e);return{healthyWeight:`${l.toFixed(1)} – ${i.toFixed(1)} kg`,bmiPrime:u.toFixed(2),ponderalIndex:`${h.toFixed(1)} kg/m³`}}function E(t){const n=y(t);c.style.transform=`translate(150px, 150px) rotate(${n}deg)`}function g(){c.style.transform="translate(150px, 150px) rotate(-180deg)"}function v(){const t=parseInt(document.getElementById("age").value),n=parseFloat(document.getElementById("height").value),a=parseFloat(document.getElementById("weight").value);let e=!0;return isNaN(t)||t<2||t>120?(document.getElementById("age").classList.add("is-invalid"),e=!1):document.getElementById("age").classList.remove("is-invalid"),isNaN(n)||n<=0?(document.getElementById("height").classList.add("is-invalid"),e=!1):document.getElementById("height").classList.remove("is-invalid"),isNaN(a)||a<=0?(document.getElementById("weight").classList.add("is-invalid"),e=!1):document.getElementById("weight").classList.remove("is-invalid"),e}m.addEventListener("submit",t=>{if(t.preventDefault(),!v())return;const n=parseFloat(document.getElementById("height").value),a=parseFloat(document.getElementById("weight").value),e=x(a,n),l=B(e),i=b(a,n,e);d.textContent=e.toFixed(1),s.textContent=l.label,s.className=`text-${l.className}`,document.getElementById("healthy-weight").textContent=i.healthyWeight,document.getElementById("bmi-prime").textContent=i.bmiPrime,document.getElementById("ponderal-index").textContent=i.ponderalIndex,r.classList.remove("d-none"),E(e)});I.addEventListener("click",()=>{m.reset(),d.textContent="--",s.textContent="--",s.className="",r.classList.add("d-none"),g(),document.querySelectorAll(".is-invalid").forEach(t=>t.classList.remove("is-invalid"))});g();
