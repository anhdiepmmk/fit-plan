import"./global-CddY3fVm.js";const s=document.getElementById("bmi-form"),d=document.getElementById("bmi-needle"),c=document.getElementById("bmi-value"),m=document.getElementById("bmi-category"),r=document.getElementById("bmi-details"),y=document.getElementById("btn-clear"),o={underweight:{max:18.5,label:"Thiếu cân",labelEn:"Underweight"},normal:{max:25,label:"Bình thường",labelEn:"Normal"},overweight:{max:30,label:"Thừa cân",labelEn:"Overweight"},obesity:{max:1/0,label:"Béo phì",labelEn:"Obesity"}};function I(e){return(Math.max(15,Math.min(40,e))-15)/25*180-90}function B(e){return e<o.underweight.max?"underweight":e<o.normal.max?"normal":e<o.overweight.max?"overweight":"obesity"}function E(e,n){const i=n/100;return e/(i*i)}function b(e,n,i){const t=n/100,a=18.5*t*t,l=25*t*t,u=i/25,h=e/(t*t*t);return{healthyWeight:`${a.toFixed(1)} – ${l.toFixed(1)} kg`,bmiPrime:u.toFixed(2),ponderalIndex:`${h.toFixed(1)} kg/m³`}}function v(e){const n=I(e);d.style.transform=`rotate(${n}deg)`}function g(){d.style.transform="rotate(-90deg)"}function x(){const e=parseInt(document.getElementById("age").value),n=parseFloat(document.getElementById("height").value),i=parseFloat(document.getElementById("weight").value);let t=!0;return isNaN(e)||e<2||e>120?(document.getElementById("age").classList.add("is-invalid"),t=!1):document.getElementById("age").classList.remove("is-invalid"),isNaN(n)||n<=0?(document.getElementById("height").classList.add("is-invalid"),t=!1):document.getElementById("height").classList.remove("is-invalid"),isNaN(i)||i<=0?(document.getElementById("weight").classList.add("is-invalid"),t=!1):document.getElementById("weight").classList.remove("is-invalid"),t}s.addEventListener("submit",e=>{if(e.preventDefault(),!x())return;const n=parseFloat(document.getElementById("height").value),i=parseFloat(document.getElementById("weight").value),t=E(i,n),a=B(t),l=b(i,n,t);c.textContent=t.toFixed(1),m.textContent=o[a].label,m.className=`bmi-category ${a}`,document.getElementById("healthy-weight").textContent=l.healthyWeight,document.getElementById("bmi-prime").textContent=l.bmiPrime,document.getElementById("ponderal-index").textContent=l.ponderalIndex,r.classList.remove("d-none"),v(t)});y.addEventListener("click",()=>{s.reset(),c.textContent="--",m.textContent="--",m.className="bmi-category",r.classList.add("d-none"),g(),document.querySelectorAll(".is-invalid").forEach(e=>e.classList.remove("is-invalid"))});g();
